{"ast":null,"code":"import { User } from \"../../classes\";\n\n// let db = new sql.Database(\"d:\\CareCentral.db\", (err) => {\n//         if (err) {\n//             return console.error(err.message)\n//         }\n//         console.log('Connected to Care Central')\n//     })\n\nconst url = \"http://127.0.0.1:8000/\";\nexport async function createUser(username) {\n  return new Promise((resolve, reject) => {\n    fetch(url + \"users/\" + username).then(response => response.json()).then(json => {\n      let newUser = new User(json.username);\n      if (json.role) {\n        newUser.setRole(json.role);\n      }\n      if (json.profileImage) {\n        newUser.setBlob(json.profileImage);\n      }\n      fetch(url + \"children/family/\" + json.id).then(response => response.json()).then(json2 => {\n        Object.keys(json2).forEach(key => {\n          newUser.setChild(json2[key]);\n        });\n      });\n      resolve(newUser);\n    }).catch(err => {\n      console.error(err.message);\n      reject(err.message);\n    }).catch(err => {\n      console.error(err.message);\n      reject(err.message);\n    });\n  });\n}","map":{"version":3,"names":["User","url","createUser","username","Promise","resolve","reject","fetch","then","response","json","newUser","role","setRole","profileImage","setBlob","id","json2","Object","keys","forEach","key","setChild","catch","err","console","error","message"],"sources":["C:/Users/c_mil/Desktop/Dev/TypeScript/care-central/src/componants/backend/fetchData.tsx"],"sourcesContent":["import { User } from \"../../classes\"\r\n\r\n// let db = new sql.Database(\"d:\\CareCentral.db\", (err) => {\r\n//         if (err) {\r\n//             return console.error(err.message)\r\n//         }\r\n//         console.log('Connected to Care Central')\r\n//     })\r\n\r\nconst url: string = \"http://127.0.0.1:8000/\"\r\n\r\nexport async function createUser(username: string): Promise<User> {\r\n    return new Promise((resolve, reject) => {\r\n        fetch(url + \"users/\" + username)\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                let newUser = new User(json.username)\r\n                if (json.role) {\r\n                    newUser.setRole(json.role)\r\n                }\r\n                if (json.profileImage) {\r\n                    newUser.setBlob(json.profileImage)\r\n                }\r\n                fetch(url + \"children/family/\" + json.id)\r\n                    .then(response => response.json())\r\n                    .then(json2 => {\r\n                        Object.keys(json2).forEach((key: string) => {\r\n                            newUser.setChild(json2[key])\r\n                        })\r\n                        })\r\n                        resolve(newUser)\r\n                    })\r\n                    .catch(err => {\r\n                        console.error(err.message)\r\n                        reject(err.message)\r\n                })\r\n\r\n            .catch(err => {\r\n                console.error(err.message)\r\n                reject(err.message)\r\n            })\r\n        })\r\n}"],"mappings":"AAAA,SAASA,IAAI,QAAQ,eAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,GAAW,GAAG,wBAAwB;AAE5C,OAAO,eAAeC,UAAUA,CAACC,QAAgB,EAAiB;EAC9D,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACpCC,KAAK,CAACN,GAAG,GAAG,QAAQ,GAAGE,QAAQ,CAAC,CAC3BK,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACE,IAAI,IAAI;MACV,IAAIC,OAAO,GAAG,IAAIX,IAAI,CAACU,IAAI,CAACP,QAAQ,CAAC;MACrC,IAAIO,IAAI,CAACE,IAAI,EAAE;QACXD,OAAO,CAACE,OAAO,CAACH,IAAI,CAACE,IAAI,CAAC;MAC9B;MACA,IAAIF,IAAI,CAACI,YAAY,EAAE;QACnBH,OAAO,CAACI,OAAO,CAACL,IAAI,CAACI,YAAY,CAAC;MACtC;MACAP,KAAK,CAACN,GAAG,GAAG,kBAAkB,GAAGS,IAAI,CAACM,EAAE,CAAC,CACpCR,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACS,KAAK,IAAI;QACXC,MAAM,CAACC,IAAI,CAACF,KAAK,CAAC,CAACG,OAAO,CAAEC,GAAW,IAAK;UACxCV,OAAO,CAACW,QAAQ,CAACL,KAAK,CAACI,GAAG,CAAC,CAAC;QAChC,CAAC,CAAC;MACF,CAAC,CAAC;MACFhB,OAAO,CAACM,OAAO,CAAC;IACpB,CAAC,CAAC,CACDY,KAAK,CAACC,GAAG,IAAI;MACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACG,OAAO,CAAC;MAC1BrB,MAAM,CAACkB,GAAG,CAACG,OAAO,CAAC;IAC3B,CAAC,CAAC,CAELJ,KAAK,CAACC,GAAG,IAAI;MACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACG,OAAO,CAAC;MAC1BrB,MAAM,CAACkB,GAAG,CAACG,OAAO,CAAC;IACvB,CAAC,CAAC;EACN,CAAC,CAAC;AACV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}